<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.9: http://docutils.sourceforge.net/" />
<title>GraphTerm Help (from the README file)</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7056 2011-06-17 10:50:48Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="graphterm-help-from-the-readme-file">
<h1 class="title">GraphTerm Help (from the README file)</h1>

<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="auto-toc simple">
<li><a class="reference internal" href="#documentation-and-support" id="id4">1&nbsp;&nbsp;&nbsp;Documentation and Support</a></li>
<li><a class="reference internal" href="#usage" id="id5">2&nbsp;&nbsp;&nbsp;Usage</a><ul class="auto-toc">
<li><a class="reference internal" href="#visual-cues" id="id6">2.1&nbsp;&nbsp;&nbsp;Visual cues</a></li>
<li><a class="reference internal" href="#navigating-folders-opening-files" id="id7">2.2&nbsp;&nbsp;&nbsp;Navigating folders/opening files</a></li>
<li><a class="reference internal" href="#icon-display" id="id8">2.3&nbsp;&nbsp;&nbsp;Icon display</a></li>
<li><a class="reference internal" href="#themes" id="id9">2.4&nbsp;&nbsp;&nbsp;Themes</a></li>
<li><a class="reference internal" href="#copy-paste" id="id10">2.5&nbsp;&nbsp;&nbsp;Copy/paste</a></li>
<li><a class="reference internal" href="#drag-and-drop" id="id11">2.6&nbsp;&nbsp;&nbsp;Drag and drop</a></li>
<li><a class="reference internal" href="#command-recall" id="id12">2.7&nbsp;&nbsp;&nbsp;Command recall</a></li>
<li><a class="reference internal" href="#ipad-usage" id="id13">2.8&nbsp;&nbsp;&nbsp;iPad usage</a></li>
<li><a class="reference internal" href="#choosing-the-terminal-type" id="id14">2.9&nbsp;&nbsp;&nbsp;Choosing the terminal type</a></li>
<li><a class="reference internal" href="#multiple-hosts" id="id15">2.10&nbsp;&nbsp;&nbsp;Multiple hosts</a></li>
<li><a class="reference internal" href="#sessions-and-screensharing" id="id16">2.11&nbsp;&nbsp;&nbsp;Sessions and &quot;screensharing&quot;</a></li>
<li><a class="reference internal" href="#wildcard-sessions-and-multiplexing" id="id17">2.12&nbsp;&nbsp;&nbsp;Wildcard sessions and multiplexing</a></li>
<li><a class="reference internal" href="#webcasting" id="id18">2.13&nbsp;&nbsp;&nbsp;Webcasting</a></li>
<li><a class="reference internal" href="#slideshows" id="id19">2.14&nbsp;&nbsp;&nbsp;Slideshows</a></li>
<li><a class="reference internal" href="#widgets-sockets-and-interactivity" id="id20">2.15&nbsp;&nbsp;&nbsp;Widgets, sockets, and interactivity</a></li>
<li><a class="reference internal" href="#security" id="id21">2.16&nbsp;&nbsp;&nbsp;Security</a></li>
<li><a class="reference internal" href="#ssh-and-port-forwarding" id="id22">2.17&nbsp;&nbsp;&nbsp;SSH and port forwarding</a></li>
</ul>
</li>
<li><a class="reference internal" href="#otrace-integration" id="id23">3&nbsp;&nbsp;&nbsp;<em>otrace</em> integration</a></li>
<li><a class="reference internal" href="#cloud-integration" id="id24">4&nbsp;&nbsp;&nbsp;Cloud integration</a></li>
<li><a class="reference internal" href="#api-for-graphterm-aware-programs" id="id25">5&nbsp;&nbsp;&nbsp;API for GraphTerm-aware programs</a></li>
<li><a class="reference internal" href="#implementation" id="id26">6&nbsp;&nbsp;&nbsp;Implementation</a></li>
<li><a class="reference internal" href="#caveats-and-limitations" id="id27">7&nbsp;&nbsp;&nbsp;Caveats and limitations</a></li>
<li><a class="reference internal" href="#credits" id="id28">8&nbsp;&nbsp;&nbsp;Credits</a></li>
<li><a class="reference internal" href="#license" id="id29">9&nbsp;&nbsp;&nbsp;License</a></li>
</ul>
</div>
<div class="section" id="documentation-and-support">
<h1><a class="toc-backref" href="#id4">1&nbsp;&nbsp;&nbsp;Documentation and Support</a></h1>
<p>Documentation and updates can be found on the project home page,
<a class="reference external" href="http://code.mindmeldr.com/graphterm">code.mindmeldr.com/graphterm</a>,
which also has some
<a class="reference external" href="http://code.mindmeldr.com/graphterm/graphterm-tutorials">tutorials and examples</a>
for using GraphTerm. You can also use the following command:</p>
<pre class="literal-block">
glandslide -o graphterm-talk1.md | giframe
</pre>
<p>to view a slideshow about GraphTerm within GraphTerm (type``h`` for
help and <tt class="docutils literal">q</tt> to quit).</p>
<p>There is a <a class="reference external" href="https://groups.google.com/group/graphterm">Google Groups mailing list</a>
for announcements of new releases, posting questions related to
GraphTerm etc. You can also follow <a class="reference external" href="https://twitter.com/intent/user?screen_name=graphterm">&#64;graphterm</a> on Twitter for updates.</p>
<p>To report bugs and other issues, use the Github <a class="reference external" href="https://github.com/mitotic/graphterm/issues">Issue Tracker</a>.</p>
</div>
<div class="section" id="usage">
<h1><a class="toc-backref" href="#id5">2&nbsp;&nbsp;&nbsp;Usage</a></h1>
<p>To start the <tt class="docutils literal">GraphTerm</tt> server, use the command:</p>
<pre class="literal-block">
gtermserver --auth_code=none
</pre>
<p>Type  <tt class="docutils literal">gtermserver <span class="pre">-h</span></tt> to view all options. You can use the
<tt class="docutils literal"><span class="pre">--daemon=start</span></tt> option to run it in the background.</p>
<p>Once the server is running, you can open a terminal window on the
localhost in the following ways:</p>
<blockquote>
<ul class="simple">
<li>Specify the <tt class="docutils literal"><span class="pre">--terminal</span></tt> option when starting <tt class="docutils literal">gtermserver</tt></li>
<li>Use the <tt class="docutils literal">gterm</tt> command in any terminal</li>
<li>Within a GraphTerm window, you can use the <tt class="docutils literal">New</tt> menu option, or
use the keyboard shortcut <em>Ctrl-Alt-T</em> to create a new GraphTerm window</li>
</ul>
</blockquote>
<p>To open a remote terminal window, open up a browser of your
choice that supports websockets, such as Google Chrome,
Firefox, or Safari (Chrome works best), and enter the following URL:</p>
<pre class="literal-block">
http://localhost:8900
</pre>
<p>Once within the <tt class="docutils literal">graphterm</tt> browser page, select the host you
wish to connect to and create a new terminal session on the host.</p>
<p>Once you have a terminal, try out the following commands:</p>
<pre class="literal-block">
gls &lt;directory&gt;
gvi &lt;text-filename&gt;
</pre>
<p>These are graphterm-aware scripts that imitate
basic features of the standard <tt class="docutils literal">ls</tt> and <tt class="docutils literal">vi</tt> commands.
To display images as thumbnails, use the <tt class="docutils literal">gls <span class="pre">-i</span> ...</tt> command.
Use the <tt class="docutils literal"><span class="pre">-h</span></tt> option to display help information for these commands,
and read the
<a class="reference external" href="http://code.mindmeldr.com/graphterm/graphterm-tutorials/graphterm-tutorial-graphical">UsingGraphicalFeatures tutorial</a> for usage examples.</p>
<p>You can use the command <tt class="docutils literal">which gls</tt> to determine the directory
containing graphterm-aware commands, to browse
for other commands, which include:</p>
<blockquote>
<p><tt class="docutils literal">giframe [filename|URL]</tt>    To view files/URLs (or HTML from stdin) in
inline <em>iframe</em></p>
<p><tt class="docutils literal">gimage <span class="pre">[-f]</span> [filenames]</tt>     To view images inline, or as a
fullpage slideshow (with <tt class="docutils literal"><span class="pre">-f</span></tt> option)</p>
<p><tt class="docutils literal">glandslide</tt>    A GraphTerm-aware version of Landslide, a web-based slideshow program</p>
<p><tt class="docutils literal">gmatplot.py</tt>   A <tt class="docutils literal">matplotlib</tt> plotting demo</p>
<p><tt class="docutils literal">yweather [location]</tt> To view weather forecasts</p>
<p><tt class="docutils literal">gtweet <span class="pre">[-s</span> <span class="pre">keywords]|tweet</span></tt>  To send, search, or receive tweets</p>
</blockquote>
<p>(There is also a sample <tt class="docutils literal">gcowsay</tt> command which can be downloaded
separately from its <a class="reference external" href="https://github.com/mitotic/gcowsay">Github repository</a>)</p>
<div class="section" id="visual-cues">
<h2><a class="toc-backref" href="#id6">2.1&nbsp;&nbsp;&nbsp;Visual cues</a></h2>
<p>In the default theme, <em>blue</em> color denotes text that can be <em>clicked</em>
or <em>tapped</em>. The action triggered by clicking depends upon two
factors, whether there is text in the current command line,
and whether the Control modifier in the <em>Bottom menu</em> is active.
Click on the last displayed prompt to toggle display of the <em>Bottom
menu</em>. Clicking on other prompts toggles display of the command
output (unless the Control modifier is used, in which case the
entire command line is copied and pasted.)</p>
</div>
<div class="section" id="navigating-folders-opening-files">
<h2><a class="toc-backref" href="#id7">2.2&nbsp;&nbsp;&nbsp;Navigating folders/opening files</a></h2>
<p>You can navigate folders in GraphTerm just like you would do in a GUI,
while retaining the ability to drop back to the CLI at any time.
<em>If the current command line is empty,</em>
clicking on a folder or filename displayed by the <tt class="docutils literal">gls</tt> command will
change the current directory to the folder, or cause the file to be
opened.
<em>If you have typed anything at all in the current command line,
even if it is just a space</em>, the clicking action will cause text to be
pasted into the command line, without any
command being executed. You can edit the pasted text, then press the
Enter key to execute it.</p>
</div>
<div class="section" id="icon-display">
<h2><a class="toc-backref" href="#id8">2.3&nbsp;&nbsp;&nbsp;Icon display</a></h2>
<p>Select <tt class="docutils literal">icons</tt> in the top menu to activate icon display for commands like
<tt class="docutils literal">gls</tt>.</p>
</div>
<div class="section" id="themes">
<h2><a class="toc-backref" href="#id9">2.4&nbsp;&nbsp;&nbsp;Themes</a></h2>
<p>Themes, selected using the top menu, are a work in progress, especially the 3-D perspective theme
(which only works on Chrome/Safari).</p>
</div>
<div class="section" id="copy-paste">
<h2><a class="toc-backref" href="#id10">2.5&nbsp;&nbsp;&nbsp;Copy/paste</a></h2>
<p><em>Click on the cursor</em> before beginning the paste operation (on the command line,
a box will appear at the cursor location). Then use the
browser's paste menu command or a keyboard shortcut (like <em>Command/Control-V</em>) to
paste the text. Alternatively, you can use the <em>Actions-&gt;Paste special</em> menu item.</p>
</div>
<div class="section" id="drag-and-drop">
<h2><a class="toc-backref" href="#id11">2.6&nbsp;&nbsp;&nbsp;Drag and drop</a></h2>
<p>Sort of works! You can drag a filename (<em>grabbing the icon does not
work</em>) and drop it on a folder, an executable, or the command line.
For drag-and-drop between two GraphTerm windows running on the same
host, the file will be moved to the destination folder. For windows
on two different hosts, the file will be copied.
(Graphical feedback for this operation is not properly implemented at
this time. Look at the command line for the feedback.)</p>
</div>
<div class="section" id="command-recall">
<h2><a class="toc-backref" href="#id12">2.7&nbsp;&nbsp;&nbsp;Command recall</a></h2>
<p>If the command line is empty, <em>up/down arrows</em> will use the underlying
shell for command recall (like Control-P and Control-N). If the
command line contains any text, including whitespace,
<em>up/down arrows</em> will cause GraphTerm to search for matching
previous commands that begin with the text already typed (ignoring
any leading whitespace). You can use the <em>right arrow</em> to
complete the recalled command (for editing) or use the <em>Enter</em> key
to execute it. Typing any other key, including the <em>left arrow</em>,
will cancel the command recall process.</p>
</div>
<div class="section" id="ipad-usage">
<h2><a class="toc-backref" href="#id13">2.8&nbsp;&nbsp;&nbsp;iPad usage</a></h2>
<p>Click on the cursor to display virtual keyboard on the iPad. The
<em>Bottom menu</em>, exposed by clicking on the lowermost prompt, can be
quite useful on the iPad.</p>
</div>
<div class="section" id="choosing-the-terminal-type">
<h2><a class="toc-backref" href="#id14">2.9&nbsp;&nbsp;&nbsp;Choosing the terminal type</a></h2>
<p>The default terminal type is set to <tt class="docutils literal">xterm</tt>, but it may not always
work properly. You can also try out the terminal types <tt class="docutils literal">screen</tt> or
<tt class="docutils literal">linux</tt>,  which may work better for some purposes.
You can use the <tt class="docutils literal"><span class="pre">--term_type</span></tt> option when running the server to set
the default terminal type, or use the <tt class="docutils literal">export TERM=screen</tt> command.
(Fully supporting these terminal types is a work in progress.)</p>
</div>
<div class="section" id="multiple-hosts">
<h2><a class="toc-backref" href="#id15">2.10&nbsp;&nbsp;&nbsp;Multiple hosts</a></h2>
<p>More than one host can connect to the GraphTerm server. The local
host is connected by default (but this can be disabled using the
<tt class="docutils literal"><span class="pre">--nolocal</span></tt> option). To connect an additional host, run the
following command on the computer you wish to connect:</p>
<pre class="literal-block">
gtermhost --server_addr=&lt;serveraddr&gt; &lt;hostname&gt;
</pre>
<p>where <tt class="docutils literal">serveraddr</tt> is the address or name of the computer where the
GraphTerm server is running (which defaults to localhost). You can use the
<tt class="docutils literal"><span class="pre">--daemon=start</span></tt> option to run the <tt class="docutils literal">gtermhost</tt> command
in the background. By default, the Graphterm
server listens for host connections on port 8899. <em>The multiple host
feature should only be used within a secure network, not on the public internet.</em></p>
<p>NOTE: Unlike the <tt class="docutils literal">sshd</tt> server, the <tt class="docutils literal">gtermhost</tt> command is designed to
be run by a normal user, not a privileged user. So different users can
connect to the GraphTerm server pretending to be different &quot;hosts&quot;
on the same computer. (If you are running a Python server, it can
connect directly to the GraphTerm server as a &quot;host&quot;, allowing it to
be dynamically introspected and debugged using <a class="reference external" href="http://code.mindmeldr.com/otrace">otrace</a>.)</p>
</div>
<div class="section" id="sessions-and-screensharing">
<h2><a class="toc-backref" href="#id16">2.11&nbsp;&nbsp;&nbsp;Sessions and &quot;screensharing&quot;</a></h2>
<p>For each host, sessions are assigned default names like <tt class="docutils literal">tty1</tt>
etc. You can also create unique session names simply by using it in an
URL, e.g.:</p>
<pre class="literal-block">
http://localhost:8900/local/mysession
</pre>
<p>Anyone with access to the GraphTerm server can use the session URL
to connect to it. This is like &quot;screensharing&quot;, but more efficient,
because only the content is shared, not the graphical themes.
The first user to create a session &quot;owns&quot; it, until they detach from
it. Others connecting to the same session have read-only access,
unless they &quot;steal&quot; the session (see the <em>Action</em> menu).
For example, if you forgot to detach your session at work, you can
<tt class="docutils literal">ssh</tt> to your desktop from home, use SSH port forwarding (see below)
to securely access your work desktop, and then steal the
session using your home browser.</p>
<p>NOTE: Although GraphTerm supports multiple users, it currently
assumes a cooperative environment, where everyone trusts everyone
else. (This may change in the future.)</p>
</div>
<div class="section" id="wildcard-sessions-and-multiplexing">
<h2><a class="toc-backref" href="#id17">2.12&nbsp;&nbsp;&nbsp;Wildcard sessions and multiplexing</a></h2>
<p>A session path is of the form <tt class="docutils literal">session_host/session_name</tt>. You can
use the shell wildcard patterns <tt class="docutils literal">*, <span class="pre">?,</span> []</tt> in the session path. For
example, you can open a wildcard session for multiple hosts using the URL:</p>
<pre class="literal-block">
http://localhost:8900/*/tty1
</pre>
<p>For normal shell terminals, a wildcard session will open a &quot;blank&quot; window,
but any input you type in it will be broadcast to all sessions
matching the pattern. (To receive visual feedback,
you will need to view one or more of the matching sessions at the
same time.)</p>
<p>For <tt class="docutils literal">otrace</tt> debugging sessions of the form <tt class="docutils literal">*/osh</tt>, GraphTerm
will multiplex the input and output in wildcard terminals. Your input
will be echoed and broadcast, and output from each of the matching
sessions will be displayed, preceded by an identifying header
(with the special string <tt class="docutils literal">ditto</tt> used to indicate repeated output).
See the <em>otrace</em> integration section for more information.</p>
<p>NOTE: Multiplexed input/output display cannot be easily implemented for
regular shell terminals.</p>
</div>
<div class="section" id="webcasting">
<h2><a class="toc-backref" href="#id18">2.13&nbsp;&nbsp;&nbsp;Webcasting</a></h2>
<p>If you enable the <em>Webcast</em> in the top menu, anyone can use the
session URL to view the session, without the need for
authentication, but will not be able to steal it. <em>Use this feature
with caution to avoid exposing exposing sensitive data.</em></p>
</div>
<div class="section" id="slideshows">
<h2><a class="toc-backref" href="#id19">2.14&nbsp;&nbsp;&nbsp;Slideshows</a></h2>
<p>The <tt class="docutils literal">glandslide</tt> command, which is a slightly modified version of the
web-based slide slideshow program <a class="reference external" href="https://github.com/adamzap/landslide">Landslide</a>,
can be used to create a slideshow from Markdown (.md) or reStructured
Text (.rst) files. A few sample <tt class="docutils literal">.md</tt> files are provided in the
<tt class="docutils literal">graphterm/bin/landslide</tt> directory of the distribution. To view a slideshow about
GraphTerm, type:</p>
<pre class="literal-block">
glandslide -o graphterm-talk1.md | giframe
</pre>
<p>Type <tt class="docutils literal">h</tt> for help and <tt class="docutils literal">q</tt> to quite the slideshow. (The unmodified
Landslide program can also be used, with the <tt class="docutils literal"><span class="pre">-i</span></tt> option, but remote sharing will not work.)</p>
<p>The <tt class="docutils literal">gimage</tt> command, which displays images inline, can also be used for
slideshows and simple presentations. Just <tt class="docutils literal">cd</tt> to a directory
that has the images for a slideshow, and type:</p>
<pre class="literal-block">
gimage -f
</pre>
<p>To select a subset of images in the directory, you can use a wildcard
pattern. For publicly webcasting a slideshow, use the <tt class="docutils literal"><span class="pre">-b</span></tt> option.</p>
</div>
<div class="section" id="widgets-sockets-and-interactivity">
<h2><a class="toc-backref" href="#id20">2.15&nbsp;&nbsp;&nbsp;Widgets, sockets, and interactivity</a></h2>
<p>A widget appears as an overlay on the terminal (like
<em>picture-in-picture</em> for TVs, or dashboard widgets on the Mac). This is an
experimental feature that allows programs running in the background to
display information overlaid on the terminal. The widget is accessed
by redirecting <tt class="docutils literal">stdout</tt> to a Bash <tt class="docutils literal">tcp</tt> socket device whose
address is stored in the environment variable <tt class="docutils literal">GRAPHTERM_SOCKET</tt>.
For example, the following command will run a background job
to open a new terminal in an overlay <em>iframe</em>:</p>
<pre class="literal-block">
giframe --opacity=0.2 http://localhost:8900/local/new &gt; $GRAPHTERM_SOCKET &amp;
</pre>
<p>You can use the overlay terminal just like a regular terminal, including
having recursive overlays within the overlay!</p>
<p>A specific example of widget use is to display live feedback on the
screen during a presentation. You can try it out in a directory that
contains your presentation slides as images:</p>
<pre class="literal-block">
gfeedback 2&gt; $GRAPHTERM_SOCKET 0&lt;&amp;2 | gfeed &gt; $GRAPHTERM_SOCKET &amp;
gimage -f
</pre>
<p>The first command uses <tt class="docutils literal">gfeedback</tt> to capture feedback from others
viewing the terminal session as a stream of lines from
$GRAPHTERM_SOCKET. The viewers use the overlaid <em>feedback</em> button
to provide feedback. The <tt class="docutils literal">stdout</tt> from <tt class="docutils literal">gfeedback</tt> is piped to
<tt class="docutils literal">gfeed</tt> which displays its <tt class="docutils literal">stdin</tt> stream as a  &quot;live feed&quot;
overlay, also via $GRAPHTERM_SOCKET.
(The <tt class="docutils literal">gimage <span class="pre">-f</span></tt> command displays all the images in the directory as a
slideshow.)</p>
<p>To display a live twitter feed as an overlay on a presentation, you can use the commands:</p>
<pre class="literal-block">
gtweet -f -s topic &gt; $GRAPHTERM_SOCKET &amp;
gimage -f
</pre>
</div>
<div class="section" id="security">
<h2><a class="toc-backref" href="#id21">2.16&nbsp;&nbsp;&nbsp;Security</a></h2>
<p><em>The GraphTerm is not yet ready to be executed with root privileges</em>.
Run it logged in as a regular user. The <tt class="docutils literal"><span class="pre">--auth_code</span></tt> option can be
used to specify an authentication code required for users connecting
to the server. Although multiple hosts can connect to the terminal
server, initially, it would be best to use <tt class="docutils literal">graphterm</tt> to just connect to
<tt class="docutils literal">localhost</tt>, on a computer with only trusted users. You can always
use SSH port forwarding (see below) to securely connect to the
GraphTerm server for remote access.
As the code matures, security will be improved through
the use of SSL certificates and server/client authentication.
(SSL/https support is already built in. Feel free to experiment with
it, although it is not yet ready for everyday use.)</p>
</div>
<div class="section" id="ssh-and-port-forwarding">
<h2><a class="toc-backref" href="#id22">2.17&nbsp;&nbsp;&nbsp;SSH and port forwarding</a></h2>
<p>If you login to a remote computer using SSH, you can use the
<em>Action -&gt; Export Environment</em>  menu option to set the Bash shell
environment variables on the remote computer. This will allow
some, but not all, of GraphTerm's features to work on the remote
session. If you wish to use more features, set the <tt class="docutils literal">PATH</tt> environment
variable on the remote machine to allow access to <tt class="docutils literal">gls</tt> and other
commands, and also use reverse port forwarding to forward your
local port(s) to the remote computer, e.g.:</p>
<pre class="literal-block">
ssh -R 8898:localhost:8898 user&#64;remote-computer
</pre>
<p>Currently, the most secure way to access the GraphTerm server running
on a remote computer is to use SSH port forwarding. For example, if
you are connecting to your work computer from home, and wish to
connect to the GraphTerm server running as <tt class="docutils literal">localhost</tt> on your work
computer, use the command:</p>
<pre class="literal-block">
ssh -L 8900:localhost:8900 user&#64;work-computer
</pre>
<p>This will allow you to connect to <tt class="docutils literal"><span class="pre">http://localhost:8900</span></tt> on the browser
on your home computer to access GraphTerm running on your work computer.</p>
</div>
</div>
<div class="section" id="otrace-integration">
<h1><a class="toc-backref" href="#id23">3&nbsp;&nbsp;&nbsp;<em>otrace</em> integration</a></h1>
<p>GraphTerm was originally developed as a graphical front-end for
<a class="reference external" href="http://code.mindmeldr.com/otrace">otrace</a>,
an object-oriented python debugger. Any Python program
can serve as a &quot;host&quot; and be connected to the GraphTerm server
using the <tt class="docutils literal">gotrace</tt> command:</p>
<pre class="literal-block">
gotrace example.py
</pre>
<p>The above command loads <tt class="docutils literal">example.py</tt> as a module and connects
to the GraphTerm server for debugging. This program will appear in
the list of hosts under the name <tt class="docutils literal">example</tt>. Open the terminal session
<tt class="docutils literal">example/osh</tt> to connect to the <em>otrace</em> console, and issue
the <tt class="docutils literal">run &lt;function&gt;</tt> command to begin executing a function in
<tt class="docutils literal">example.py</tt>. You can also initiate program execution
directly from the command line as follows:</p>
<pre class="literal-block">
gotrace -f test example.py arg1 arg2
</pre>
<p>The above command executes the function <tt class="docutils literal"><span class="pre">test(arg=[])</span></tt> in
<tt class="docutils literal">example.py</tt>, where <tt class="docutils literal">arg</tt> is a list of string arguments from
the command line.</p>
<p>If you wish to use the <em>otrace</em> console features for multiplexing,
without actually needing to a debug a program, you can use
the <tt class="docutils literal"><span class="pre">--oshell</span></tt> option when using <tt class="docutils literal">gtermhost</tt> to connect
to the server.</p>
<p>(You can also embed code in a Python program to directly connect
to the GraphTerm server for monitoring/debugging. See
<tt class="docutils literal">gotrace.py</tt> to find out how it can be done.)</p>
</div>
<div class="section" id="cloud-integration">
<h1><a class="toc-backref" href="#id24">4&nbsp;&nbsp;&nbsp;Cloud integration</a></h1>
<p>The GraphTerm distribution includes the scripts <tt class="docutils literal">ec2launch, ec2list, ec2scp,</tt>
and <tt class="docutils literal">ec2ssh</tt> to launch and monitor Amazon Web Services EC2
instances. These are the scripts used to test new
versions of GraphTerm by running them in the &quot;cloud&quot;.
You will need to have an Amazon AWS
account to use these scripts, and also need to install
the <tt class="docutils literal">boto</tt> python module.</p>
<p>To create an instance, use the <tt class="docutils literal">ec2launch</tt> command.
You will be presented with a &quot;web form&quot; to enter details of the instance
to be launched. Once you fill in the form and submit it, a command
line will be automatically created, with command options, to launch
the instance. To launch another instance with slightly different
properties, you can simply recall the command line and edit it.
Ensure that the security group associated with the cloud instance
allows access to inbound TCP port 22 (for SSH access), 8900
(for GraphTerm users to connect), and
port 8899 (for GraphTerm hosts to connect).</p>
<p>To <em>temporarily</em> run a publicly accessible GraphTerm server for
demonstration or teaching purposes, log in to the instance using
the command <tt class="docutils literal">ec2ssh ubuntu&#64;instance_address</tt>, wait a few
minutes for <tt class="docutils literal">tornado</tt> and <tt class="docutils literal">graphterm</tt> packages to finish
installing, and then issue the following command:</p>
<pre class="literal-block">
gtermserver --daemon=start --auth_code=none --host=&lt;primary_domain_or_address&gt;
</pre>
<p><em>Note: This is totally insecure and should not be used for handling any sensitive information.</em></p>
<p>Secondary cloud instances should connect to the GraphTerm server on
the primary instance using the command:</p>
<pre class="literal-block">
gtermhost --daemon=start --server_addr=&lt;primary_domain_or_address&gt; &lt;secondary_host_name&gt;
</pre>
<p>For increased security in a publicly-accessible server,
you can use a cryptic authentication code,
and also use <em>https</em> instead of <em>http</em>, with SSL certificates.
Since GraphTerm is currently in <em>alpha</em> status,
security cannot be guaranteed even with these options enabled.
(To avoid these problems, use SSH port forwarding to access GraphTerm
on <tt class="docutils literal">localhost</tt> whenever possble.)</p>
</div>
<div class="section" id="api-for-graphterm-aware-programs">
<h1><a class="toc-backref" href="#id25">5&nbsp;&nbsp;&nbsp;API for GraphTerm-aware programs</a></h1>
<p>A <a class="reference external" href="https://github.com/mitotic/graphterm/tree/master/graphterm/bin">graphterm-aware program</a>
writes to to the standard output in a format similar to a HTTP
response, preceded and followed by
<tt class="docutils literal">xterm</tt>-like <em>escape sequences</em>:</p>
<pre class="literal-block">
\x1b[?1155;&lt;cookie&gt;h
{&quot;content_type&quot;: &quot;text/html&quot;, ...}

&lt;div&gt;
...
&lt;/div&gt;
\x1b[?1155l
</pre>
<p>where <tt class="docutils literal">&lt;cookie&gt;</tt> denotes a numeric value stored in the environment
variable <tt class="docutils literal">GRAPHTERM_COOKIE</tt>. (The random cookie is a security
measure that prevents malicious files from accessing GraphTerm.)
The opening escape sequence is followed by a <em>dictionary</em> of header
names and values, using JSON format. This is followed by a blank line,
and then any data (such as the HTML fragment to be displayed).</p>
<p>A <a class="reference external" href="https://github.com/mitotic/graphterm/tree/master/graphterm/bin">graphterm-aware program</a>
can be written in any language, much like a CGI script.
See the programs <tt class="docutils literal">gls</tt>, <tt class="docutils literal">gimage</tt>, <tt class="docutils literal">giframe</tt>, <tt class="docutils literal">gvi</tt>, <tt class="docutils literal">gfeed</tt>,
<tt class="docutils literal">yweather</tt>, <tt class="docutils literal">ec2launch</tt> and <tt class="docutils literal">ec2list</tt> for examples
of GraphTerm API usage. You can use the <tt class="docutils literal">which gls</tt>
command to figure out where these programs are located.
The file <tt class="docutils literal">gtermapi.py</tt> contains many helper functions for accessing
the GraphTerm API. See also the
<a class="reference external" href="https://github.com/mitotic/gcowsay">gcowsay</a> program for an
example of a stand-alone GraphTerm-aware command.</p>
</div>
<div class="section" id="implementation">
<h1><a class="toc-backref" href="#id26">6&nbsp;&nbsp;&nbsp;Implementation</a></h1>
<p>The GraphTerm server written in pure python, using the
<a class="reference external" href="http://tornadoweb.org">Tornado  web  framework</a>,
with websocket support. The GraphTerm client uses standard
HTML5+Javascript+CSS (with jQuery).</p>
<p>The GraphTerm server may be run on your desktop or on a remote
computer. Users create and access terminal sessions by the connecting to
the Graphterm server on port 8900, either directly or through SSH
port forwarding.
By default, the localhost on the computer where the GraphTerm server
is running is available for opening terminal sessions. Other computers
can also connect to the GraphTerm server, on a different port (8899),
to make them accessible as hosts for connection from the browser.</p>
<p>A pseudo-tty (<tt class="docutils literal">pty</tt>) is opened on the host for each terminal
session. By setting the <tt class="docutils literal">PROMP_COMMAND</tt> environment variable, GraphTerm
determines when the <tt class="docutils literal">stdout</tt> of the previous command ends, and the
<tt class="docutils literal">prompt</tt> for the new command begins.</p>
<p>The connection between the browser and the GraphTerm server is
implemented using websockets (bi-directional HTTP). The GraphTerm
server acts as a router sending input from controlling browser terminal sessions
to the appropriate <tt class="docutils literal">pty</tt> on the host computer, and transmitting
output from each <tt class="docutils literal">pty</tt> to all connected browser terminal sessions.</p>
<p>GraphTerm extends the <tt class="docutils literal">xterm</tt> terminal API by adding a
new control sequence for programs to transmit a CGI-like HTTP response
through standard output (via a websocket) to be displayed in the
browser window. GraphTerm-aware programs can interact with the
user using HTML forms etc.</p>
</div>
<div class="section" id="caveats-and-limitations">
<h1><a class="toc-backref" href="#id27">7&nbsp;&nbsp;&nbsp;Caveats and limitations</a></h1>
<blockquote>
<ul>
<li><p class="first"><em>Reliability:</em>  This software has not been subject to extensive testing. Use at your own risk.</p>
</li>
<li><p class="first"><em>Platforms:</em>  The <tt class="docutils literal">GraphTerm</tt> client should work on most recent browsers that support Websockets, such as Google Chrome, Firefox, and Safari. The <tt class="docutils literal">GraphTerm</tt> server is pure-python, but with some OS-specific calls for file,  shell, and   terminal-related operations. It has been tested only on Linux and  Mac OS X so far.</p>
</li>
<li><dl class="first docutils">
<dt><em>Current limitations:</em></dt>
<dd><ul class="first last simple">
<li>Support for <tt class="docutils literal">xterm</tt> escape sequences is incomplete.</li>
<li>Most features of GraphTerm only work with the bash shell, not with C-shell, due the need for PROMPT_COMMAND to keep track of the current working directory.</li>
<li>At the moment, you cannot customize the shell prompt. (You
should be able to so in the future.)</li>
</ul>
</dd>
</dl>
</li>
</ul>
</blockquote>
</div>
<div class="section" id="credits">
<h1><a class="toc-backref" href="#id28">8&nbsp;&nbsp;&nbsp;Credits</a></h1>
<p><tt class="docutils literal">GraphTerm</tt> is inspired by two earlier projects that implement the
terminal interface within the browser,
<a class="reference external" href="http://www.xml.com/pub/a/2000/06/07/xmlterm/index.html">XMLTerm</a> and
<a class="reference external" href="https://github.com/antonylesuisse/qweb/tree/master/ajaxterm">AjaxTerm</a>.
It borrows many of the ideas from <em>XMLTerm</em> and re-uses chunks of code from
<em>AjaxTerm</em>. The server uses the asynchronous <a class="reference external" href="http://tornadoweb.org">Tornado web framework</a> and the client uses <a class="reference external" href="http://jquery.com">jQuery</a>.</p>
<p>The <tt class="docutils literal">gls</tt> command uses icons from the <a class="reference external" href="http://tango.freedesktop.org">Tango Icon Library</a>, and graphical editing uses the <a class="reference external" href="http://ace.ajax.org">Ajax.org Cloud9 Editor</a></p>
<p>The 3D perspective mode was inspired by Sean Slinsky's <a class="reference external" href="http://www.seanslinsky.com/star-wars-crawl-with-css3">Star Wars
Opening Crawl with CSS3</a>.</p>
<p><tt class="docutils literal">GraphTerm</tt> was developed as part of the <a class="reference external" href="http://mindmeldr.com">Mindmeldr</a> project, which is aimed at improving classroom interaction.</p>
</div>
<div class="section" id="license">
<h1><a class="toc-backref" href="#id29">9&nbsp;&nbsp;&nbsp;License</a></h1>
<p><tt class="docutils literal">GraphTerm</tt> is distributed as open source under the <a class="reference external" href="http://www.opensource.org/licenses/bsd-license.php">BSD-license</a>.</p>
</div>
</div>
</body>
</html>
